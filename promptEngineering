# Enhanced Prompt Based on 8 Key Prompting Tips

The following prompt was created using these 8 key prompting strategies:
1. **Detailed prompt** - Providing comprehensive instructions
2. **Role prompting** - Defining a specific role for the AI
3. **Providing examples** - Including concrete examples of desired output
4. **Specifying prompt length** - Defining the expected response length
5. **Repeating important instructions at the end** - Reinforcing key points
6. **Delimiters** - Using clear section markers
7. **Special case instructions** - Handling exceptions and edge cases
8. **Asking for structured output** - Requesting specific output format

---

```python
prompt = f"""
## Business Insights Analysis from News Article

### News Article
{news_text}

### Preliminary Model Analysis
{json.dumps(model_results, indent=2)}

### Your Task
Please extract significant business insights from this news article. Address the following 5 categories:
1. Potential stock market impacts
2. Competitive implications
3. Business opportunities
4. Potential risks
5. Relevant market trends

### Example of Desired Response
```json
{{
  "market_impact": [
    {{
      "impact": "Expected 3-5% decline in sector company stocks",
      "reasoning": "The regulatory change announcement creates uncertainty",
      "timeframe": "Short-term (1-3 months)",
      "confidence": "High"
    }},
    {{
      "impact": "Possible recovery in the medium term",
      "reasoning": "Companies will adapt to new requirements",
      "timeframe": "Medium (6-12 months)",
      "confidence": "Medium"
    }}
  ],
  "competitive_implications": [
    "Advantage for larger players with resources for quick adaptation",
    "Higher entry barriers for new players",
    "Opportunity for technology companies to provide compliance solutions"
  ]
}}
```

### Response Format Guidelines
Present your insights in JSON format with the following keys:
"market_impact", "competitive_implications", "business_opportunities", "potential_risks", "market_trends"

Each key should contain an array of relevant insights (at least 3-5 in each category).

### Response Scope
- The complete response should be 400-600 words in length
- For each category, provide at least 3 meaningful insights, but no more than 5
- For each insight, include 1-3 explanatory sentences

### Special Cases
- If the news doesn't contain sufficient information in a certain category, indicate this with the field "insufficient_data": true
- If there are contradictions in the information, note the alternative narratives and assess the likelihood of each
- If the news refers to a financial crisis, add an additional key named "crisis_response_strategy" with recommendations
- If the news is related to a specific company, add a "company_specific_analysis" key with in-depth analysis

### Important Guidelines to Remember
- Base your analysis only on facts presented in the news article and preliminary analysis
- Distinguish between short-term and long-term effects
- Indicate level of certainty (low/medium/high) for each insight
- Address global implications if relevant
- Avoid political interpretation and focus only on business aspects
"""

message = anthropic_client.messages.create(
    model="claude-3-sonnet-20240229",
    max_tokens=2000,
    temperature=0.1,
    system="""You are an expert business analyst specializing in extracting business insights from news articles.
    You have 15 years of experience analyzing macroeconomic implications of news events.
    You can identify patterns and business implications that aren't immediately obvious.
    Your insights should be deep, data-driven, and geared toward business decision-making.""",
    messages=[
        {"role": "user", "content": prompt}
    ]
)
```
