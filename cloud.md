# 🔗 מדריך הכנה לראיון עבודה: ArgoCD, GitOps ו-IaC
עבור על הקונספט של GitOps ולהבין אותו יותר לעמוק.
להצליח לעמוד על ההבדלים בין Iac vs GitOps.
תשחק קצת עם ArgoCD ותנסה להבין את הארכיטקטורה של המערכת.
בנוסף תשחק קצת עם Argo Workflow, שהוא בעצם מנוע ג׳נרי להרצת 
פייפלנים על גבי קוברנטיס ותנסה לחשוב איך היא ניתן להפוך אותו ומה היה 
צריך להוסיף לו כדי להפוך אותו לכלי ci/cd מלא.

## 🏢 GitOps - סקירה כללית
שיטה לניהול והפצת תשתיות וקוד אפליקטיבי 
בצורה דקלרטיבית תוך שימוש ב-Git כSingle Source of Truth-


### 🔎 עקרונות מרכזיים של GitOps:
- **מצב דקלרטיבי**: כל הגדרות התשתית והיישומים נשמרות בקובצי YAML או JSON בתוך מאגר Git.
- **בקרה באמצעות Git**: כל שינוי בתשתית או בקוד מיושם דרך Pull Request, מה שמאפשר ניהול גרסאות ברור.
- **סנכרון אוטומטי**: כלי GitOps מבטיחים שהמערכת בפועל תואמת למצב המוגדר ב-Git.
- **מנגנוני אבטחה ושחזור**: כל שינוי ניתן לשחזור ולבדיקה ע"י חזרה לגרסה קודמת ב-Git.

יתרונות:
קל לניהול ולשחזור (rollback)
אבטחה טובה יותר
קונסיסטנטיות גבוהה בין סביבות

## 🔄 IaC לעומת GitOps
| מאפיין | IaC (Infrastructure as Code) | GitOps |
|---------|----------------------------|--------|
| **פוקוס** | יצירה וניהול של תשתיות | ניהול יישומים ותשתיות תוך שימוש ב-Git |
| **שיטת עבודה** | Pull-based (לרוב) | Pull-based בלבד |
| **כלי עיקריים** | Terraform, Ansible, Pulumi | ArgoCD, Flux |
| **ניהול שינויי קוד** | מוגדר כקוד אך אינו מחייב ניהול גרסאות | מבוסס על ניהול גרסאות ב-Git |
| **רמת אוטומציה** | אוטומציה חלקית | אוטומציה מלאה על בסיס Git |

## 🌐 Argo CD - מה זה ולמה זה חשוב?
Argo CD הוא כלי **Continuous Delivery (CD)** מבוסס GitOps המאפשר ניהול ושדרוג יישומים ב-Kubernetes באופן אוטומטי.

### 🔗 תכונות עיקריות של Argo CD:
- **שיטת עבודה Pull-based** – מושך הגדרות מ-Git ומסנכרן אותן עם ה-Cluster.
- **ממשק UI מתקדם** – מספק תצוגה גרפית של ה-Cluster ומצב הפריסות.
- **תמיכה מרובת סביבות** – ניתן לעבוד עם כמה Clusterים במקביל.
- **מנגנון רולים ואבטחה מתקדם** – אפשרות להגדיר RBAC (Role-Based Access Control).
- **יכולת Rollback ושחזור** – מעבר פשוט בין גרסאות.

### ⚙ כיצד Argo CD עובד?
1. **מגדירים את המערכת ב-Git** – כל קובצי ה-Manifest (YAML, Helm, Kustomize) נשמרים במאגר Git.
2. **Argo CD מזהה שינויים** – הכלי סורק את ה-Repository ומזהה שינויים.
3. **תהליך Pull-based** – במקום לדחוף שינויים (Push), Argo CD מושך ומסנכרן את המצב בפועל עם המצב ב-Git.
4. **מעקב אחר שינויים** – ניתן לראות את ההיסטוריה של השינויים ולבצע Rollback במקרה הצורך.

## 👉 Pull vs Push Model
| מאפיין | Pull Model | Push Model |
|---------|-----------|------------|
| **יוזם הפעולה** | השרת מושך עדכונים מה-Repository | הכלי (כגון Jenkins) דוחף עדכונים לשרת |
| **אבטחה** | גישה מבוקרת, אין צורך לפתוח חיבורים חיצוניים | דורש גישה ישירה לשרת היעד |
| **שקיפות** | מבוסס על Git וניתן לשחזור | פחות ברור, תלוי בלוגים פנימיים |
| **שימוש ב-GitOps** | כן, חלק בלתי נפרד | לא הכרחי, ניתן להשתמש בכלים אחרים |

## 🌟 הבנת ההבדל בין CI ל-CD והאינטגרציה ביניהם
- **Continuous Integration (CI)**: תהליך של שילוב ושיפור מתמשך של קוד ע"י ביצוע Buildים, בדיקות ושחרור ארטיפקטים חדשים.
- **Continuous Delivery (CD)**: תהליך של פריסה אוטומטית של קוד לסביבות שונות לאחר שלב ה-CI.
- **האינטגרציה בין CI ל-CD**: 
  - CI מבצע בדיקות ומייצר חבילות מוכנות לפריסה.
  - CD דואג לפריסה אוטומטית של החבילות האלו לסביבת ה-Production או Testing בהתאם.
  - שימוש בכלים כמו ArgoCD מאפשר לבצע CD בצורה דקלרטיבית ומבוססת GitOps.

### 🔍 לסיכום
ArgoCD ו-GitOps מספקים פתרון מתקדם לפריסת יישומים על Kubernetes, מבוסס ניהול תצורה דקלרטיבי עם יתרונות רבים כמו אוטומציה מלאה, ניהול שינויים ברור ושיפור אבטחה. הבנה מעמיקה של המודלים Pull vs Push, תהליכי GitOps, היתרונות של ניהול תצורה דקלרטיבי וארכיטקטורת ArgoCD חיונית להצלחה בראיון עבודה.
